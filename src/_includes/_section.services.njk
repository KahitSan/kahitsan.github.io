<!-- KahitSan Engagement & Services Data -->
{% set servicesData = {
  title: "KahitSan Engagement & Services",
  subtitle: "Live previews of opportunities and services available to our community",
  tabs: [
    {
      id: "jobs",
      icon: "üíº",
      title: "Job Board",
      description: "Current opportunities for students and professionals in Naga City",
      content: {
        type: "jobs",
        items: [
          {
            title: "Social Media Assistant",
            company: "Local Marketing Agency",
            details: ["‚Ç±15,000/month", "Part-time", "Fresh grad OK"]
          },
          {
            title: "Freelance Graphic Designer", 
            company: "Multiple Clients",
            details: ["‚Ç±500-1,500/project", "Remote OK", "Portfolio required"]
          },
          {
            title: "Virtual Assistant",
            company: "Online Business", 
            details: ["‚Ç±20,000/month", "Remote", "Student-friendly"]
          }
        ],
        cta: {
          text: "View 27+ more jobs ‚Üí",
          url: "/services/jobs"
        }
      }
    },
    {
      id: "business",
      icon: "üè¢",
      title: "Business Support",
      description: "Essential services to start and grow your business in the Philippines",
      content: {
        type: "services",
        items: [
          {
            name: "Business Registration (DTI)",
            price: "‚Ç±2,500 all-in",
            description: "Complete business name registration with DTI"
          },
          {
            name: "Virtual Office Package",
            price: "‚Ç±1,500/month", 
            description: "Business address + mail handling + phone"
          },
          {
            name: "Bookkeeping Setup",
            price: "‚Ç±3,000 setup",
            description: "Accounting system + BIR compliance guidance"
          }
        ],
        cta: {
          text: "View all business services ‚Üí",
          url: "/services/business"
        }
      }
    },
    {
      id: "events",
      icon: "üéâ",
      title: "Event Management",
      description: "Upcoming workshops and networking events for students and professionals",
      content: {
        type: "events",
        items: [
          {
            date: { month: "Jan", day: "15" },
            title: "Student Entrepreneur Meetup",
            details: "6:00 PM ‚Ä¢ Free for students ‚Ä¢ Networking + snacks"
          },
          {
            date: { month: "Jan", day: "22" },
            title: "Freelancing 101 Workshop", 
            details: "2:00 PM ‚Ä¢ ‚Ç±200 fee ‚Ä¢ Includes materials"
          },
          {
            date: { month: "Jan", day: "29" },
            title: "Business Registration Seminar",
            details: "10:00 AM ‚Ä¢ Free ‚Ä¢ DTI representative speaking"
          }
        ],
        cta: {
          text: "View full events calendar ‚Üí",
          url: "/services/events"
        }
      }
    },
    {
      id: "sponsorship",
      icon: "ü§ù",
      title: "Event Sponsorship",
      description: "Partner with KahitSan to support student and professional events in Naga City",
      content: {
        type: "sponsorships",
        items: [
          {
            name: "CE-BLAZE: Civil Engineering Days 2025",
            date: "April 2025",
            description: "BISCAST Pavilion ‚Ä¢ Educational showcases ‚Ä¢ Innovation competitions"
          },
          {
            name: "Future Student Event Sponsorship",
            date: "Planning Stage",
            description: "Academic conferences ‚Ä¢ Workshop series ‚Ä¢ Career fairs"
          },
          {
            name: "Community Event Sponsorship", 
            date: "Planning Stage",
            description: "Networking events ‚Ä¢ Business seminars ‚Ä¢ Skills workshops"
          }
        ],
        cta: {
          text: "Contact us for sponsorship opportunities ‚Üí",
          url: "/sponsor"
        }
      }
    }
  ],
  mainCta: {
    text: "View All Services",
    url: "/services"
  }
} %}

<!-- KahitSan Engagement & Services Section -->
<section class="py-16 bg-dark-secondary">
    <div class="max-w-6xl mx-auto px-8">
        <!-- Section Header -->
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-gold-light">
                {{ servicesData.title }}
            </h2>
            <p class="text-xl text-gray-400 max-w-3xl mx-auto">
                {{ servicesData.subtitle }}
            </p>
        </div>

        <!-- Tab Navigation -->
        <div class="flex flex-wrap justify-center gap-2 mb-8 bg-dark rounded-xl p-2">
            {% for tab in servicesData.tabs %}
                <button class="tab-button flex items-center gap-3 px-6 py-4 rounded-lg transition-all duration-300 font-medium{% if loop.first %} active{% endif %}" 
                        data-tab="{{ tab.id }}">
                    <span class="text-xl">{{ tab.icon }}</span>
                    <span class="hidden sm:inline">{{ tab.title }}</span>
                </button>
            {% endfor %}
        </div>

        <!-- Tab Content -->
        <div class="tab-content-container">
            {% for tab in servicesData.tabs %}
                <div class="tab-content{% if loop.first %} active{% endif %}" id="tab-{{ tab.id }}">
                    <div class="max-w-4xl mx-auto">
                        <!-- Tab Header -->
                        <div class="text-center mb-8">
                            <div class="text-5xl mb-4">{{ tab.icon }}</div>
                            <h3 class="text-2xl font-bold text-white mb-2">{{ tab.title }}</h3>
                            <p class="text-gray-400 leading-relaxed">{{ tab.description }}</p>
                        </div>

                        <!-- Tab Content Area -->
                        <div class="bg-dark rounded-xl p-8">
                            <div class="grid gap-4">
                                
                                {% if tab.content.type == "jobs" %}
                                    <!-- Job Listings -->
                                    {% for job in tab.content.items %}
                                        <div class="border-l-4 border-gold-light bg-gray-800 p-6 rounded-lg">
                                            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                                                <div>
                                                    <h4 class="text-white font-semibold text-lg mb-1">{{ job.title }}</h4>
                                                    <p class="text-gold-light mb-2">{{ job.company }}</p>
                                                    <div class="flex flex-wrap gap-3 text-sm text-gray-400">
                                                        {% for detail in job.details %}
                                                            <span class="bg-gray-700 px-3 py-1 rounded-full">{{ detail }}</span>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                                <button class="bg-gold hover:bg-gold-light text-white px-6 py-2 rounded-lg transition-colors duration-300 font-medium">
                                                    Apply Now
                                                </button>
                                            </div>
                                        </div>
                                    {% endfor %}
                                    
                                {% elif tab.content.type == "services" %}
                                    <!-- Business Services -->
                                    {% for service in tab.content.items %}
                                        <div class="border-l-4 border-gold-light bg-gray-800 p-6 rounded-lg">
                                            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                                                <div>
                                                    <h4 class="text-white font-semibold text-lg mb-1">{{ service.name }}</h4>
                                                    <p class="text-gold-light font-medium mb-2">{{ service.price }}</p>
                                                    <p class="text-gray-400">{{ service.description }}</p>
                                                </div>
                                                <button class="bg-gold hover:bg-gold-light text-white px-6 py-2 rounded-lg transition-colors duration-300 font-medium">
                                                    Get Started
                                                </button>
                                            </div>
                                        </div>
                                    {% endfor %}
                                    
                                {% elif tab.content.type == "events" %}
                                    <!-- Events -->
                                    {% for event in tab.content.items %}
                                        <div class="border-l-4 border-gold-light bg-gray-800 p-6 rounded-lg">
                                            <div class="flex flex-col md:flex-row md:items-center gap-6">
                                                <div class="bg-gold-light text-white p-4 rounded-xl text-center min-w-20 flex-shrink-0">
                                                    <div class="text-sm font-medium">{{ event.date.month }}</div>
                                                    <div class="text-2xl font-bold">{{ event.date.day }}</div>
                                                </div>
                                                <div class="flex-1">
                                                    <h4 class="text-white font-semibold text-lg mb-2">{{ event.title }}</h4>
                                                    <p class="text-gray-400">{{ event.details }}</p>
                                                </div>
                                                <button class="bg-gold hover:bg-gold-light text-white px-6 py-2 rounded-lg transition-colors duration-300 font-medium">
                                                    Register
                                                </button>
                                            </div>
                                        </div>
                                    {% endfor %}
                                    
                                {% elif tab.content.type == "sponsorships" %}
                                    <!-- Sponsorships -->
                                    {% for sponsorship in tab.content.items %}
                                        <div class="border-l-4 border-gold-light bg-gray-800 p-6 rounded-lg">
                                            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                                                <div>
                                                    <h4 class="text-white font-semibold text-lg mb-1">{{ sponsorship.name }}</h4>
                                                    <p class="text-gold-light font-medium mb-2">{{ sponsorship.date }}</p>
                                                    <p class="text-gray-400">{{ sponsorship.description }}</p>
                                                </div>
                                                <div class="flex flex-col gap-2">
                                                    {% if sponsorship.date == "April 2025" %}
                                                        <span class="bg-green-600 text-white px-4 py-1 rounded-full text-sm font-medium text-center">
                                                            Sponsored
                                                        </span>
                                                    {% else %}
                                                        <span class="bg-orange-600 text-white px-4 py-1 rounded-full text-sm font-medium text-center">
                                                            Planning
                                                        </span>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>

                            <!-- Tab CTA -->
                            <div class="text-center mt-8 pt-6 border-t border-gray-700">
                                <a href="{{ tab.content.cta.url }}" 
                                   class="text-gold-light hover:text-gold font-semibold transition-colors duration-300 text-lg">
                                    {{ tab.content.cta.text }}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- Main CTA -->
        <div class="text-center mt-12">
            <a href="{{ servicesData.mainCta.url }}" 
               class="bg-gold hover:bg-gold-light text-white font-semibold px-8 py-4 rounded-lg transition-all duration-300 hover:-translate-y-1 shadow-lg hover:shadow-xl">
                {{ servicesData.mainCta.text }}
            </a>
        </div>
    </div>
</section>

<!-- Required CSS and JavaScript -->
<style>
    /* Tab Styles */
    .tab-button {
        background: transparent;
        color: #9ca3af;
        border: none;
        cursor: pointer;
    }
    
    .tab-button.active {
        background: #80570d;
        color: white;
    }
    
    .tab-button:hover:not(.active) {
        background: rgba(179, 135, 40, 0.1);
        color: #b38728;
    }
    
    .tab-content {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
    }
    
    .tab-content.active {
        display: block;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* Enhanced button styles */
    .bg-gold:hover {
        background-color: #b38728;
    }
    
    /* Responsive improvements */
    @media (max-width: 640px) {
        .tab-button {
            flex: 1;
            justify-content: center;
        }
    }
</style>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const targetTab = this.dataset.tab;
                
                // Remove active class from all buttons and contents
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                this.classList.add('active');
                document.getElementById(`tab-${targetTab}`).classList.add('active');
            });
        });
    });
</script>